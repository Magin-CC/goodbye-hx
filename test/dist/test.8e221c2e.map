{"version":3,"sources":["..\\src\\store.ts","..\\index.js","index.ts"],"names":["attributeExceptions","appendText","el","text","textNode","document","createTextNode","appendChild","appendArray","children","forEach","child","Array","isArray","window","Element","setStyles","styles","removeAttribute","Object","keys","styleName","style","console","warn","tagName","toLowerCase","makeElement","type","textOrPropsOrChild","createElement","propName","includes","value","otherChildren","elementName","args"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ADjEA,IAAMA,sBAAsB,QAA5B;;AAIA,SAASC,UAAT,CAAoBC,EAApB,EAAwBC,IAAxB,EAA8B;AAC1B,QAAMC,WAAWC,SAASC,cAAT,CAAwBH,IAAxB,CAAjB;AACAD,OAAGK,WAAH,CAAeH,QAAf;AACH;;AAED,SAASI,WAAT,CAAqBN,EAArB,EAAyBO,QAAzB,EAAmC;AAC/BA,aAASC,OAAT,CAAiB,UAACC,KAAD,EAAW;AACxB,YAAIC,MAAMC,OAAN,CAAcF,KAAd,CAAJ,EAA0B;AACtBH,wBAAYN,EAAZ,EAAgBS,KAAhB;AACH,SAFD,MAEO,IAAIA,iBAAiBG,OAAOC,OAA5B,EAAqC;AACxCb,eAAGK,WAAH,CAAeI,KAAf;AACH,SAFM,MAEA,IAAI,OAAOA,KAAP,aAAJ,EAA+B;AAClCV,uBAAWC,EAAX,EAAeS,KAAf;AACH;AACJ,KARD;AASH;;AAED,SAASK,SAAT,CAAmBd,EAAnB,EAAuBe,MAAvB,EAA+B;AAC3B,QAAI,CAACA,MAAL,EAAa;AACTf,WAAGgB,eAAH;AACA;AACH;;AAEDC,WAAOC,IAAP,CAAYH,MAAZ,EAAoBP,OAApB,CAA4B,UAACW,SAAD,EAAe;AACvC,YAAIA,aAAanB,GAAGoB,KAApB,EAA2B;AACvBpB,eAAGoB,KAAH,CAASD,SAAT,IAAsBJ,OAAOI,SAAP,CAAtB,CADuB,CACkB;AAC5C,SAFD,MAEO;AACHE,oBAAQC,IAAR,CAAgBH,SAAhB,qCAAyDnB,GAAGuB,OAAH,CAAWC,WAAX,EAAzD;AACH;AACJ,KAND;AAOH;;AAED,SAASC,WAAT,CAAqBC,IAArB,EAA2BC,kBAA3B,EAAiE;AAC7D,QAAM3B,KAAKG,SAASyB,aAAT,CAAuBF,IAAvB,CAAX;AACA,QAAIhB,MAAMC,OAAN,CAAcgB,kBAAd,CAAJ,EAAuC;AACnCrB,oBAAYN,EAAZ,EAAgB2B,kBAAhB;AACH,KAFD,MAEO,IAAIA,8BAA8Bf,OAAOC,OAAzC,EAAkD;AACrDb,WAAGK,WAAH,CAAesB,kBAAf;AACH,KAFM,MAEA,IAAI,OAAOA,kBAAP,aAAJ,EAA4C;AAC/C5B,mBAAWC,EAAX,EAAe2B,kBAAf;AACH,KAFM,MAEA,IAAI,OAAOA,kBAAP,aAAJ,EAA4C;AAC/CV,eAAOC,IAAP,CAAYS,kBAAZ,EAAgCnB,OAAhC,CAAwC,UAACqB,QAAD,EAAc;AAClD,gBAAIA,YAAY7B,EAAZ,IAAkBF,oBAAoBgC,QAApB,CAA6BD,QAA7B,CAAtB,EAA8D;AAC1D,oBAAME,QAAQJ,mBAAmBE,QAAnB,CAAd;;AAEA,oBAAIA,oBAAJ,EAA0B;AACtBf,8BAAUd,EAAV,EAAc+B,KAAd;AACH,iBAFD,MAEO,IAAIA,KAAJ,EAAW;AACd/B,uBAAG6B,QAAH,IAAeE,KAAf;AACH;AACJ,aARD,MAQO;AACHV,wBAAQC,IAAR,CAAgBO,QAAhB,uCAA0DH,IAA1D;AACH;AACJ,SAZD;AAaH;;AAtB4D,sCAAfM,aAAe;AAAfA,qBAAe;AAAA;;AAwB7D,QAAIA,aAAJ,EAAmB1B,YAAYN,EAAZ,EAAgBgC,aAAhB;;AAEnB,WAAOhC,EAAP;AACH;;AAEM,IAAMA,kBAAK,SAALA,EAAK,CAACiC,WAAD;AAAA,uCAAiBC,IAAjB;AAAiBA,YAAjB;AAAA;;AAAA,WAA0BT,8BAAYQ,WAAZ,SAA4BC,IAA5B,EAA1B;AAAA,CAAX;AACP;AACA;AACA;AACA;AACA;AACA","file":"test.8e221c2e.map","sourceRoot":"..","sourcesContent":["export class Store {\r\n    constructor(initState?) {\r\n        if (initState) {\r\n            this.state = initState\r\n        }\r\n    }\r\n    state: any = {}\r\n\r\n\r\n    listener = {}\r\n    init = (initState?) => {\r\n        this.state = initState\r\n    }\r\n    listen = (id: string, fields: string[], callback: Function) => {\r\n        this.listener[id] = {\r\n            fields: fields,\r\n            callback: callback\r\n        };\r\n    }\r\n    dispatch = (newState) => {\r\n        let ids = [];\r\n        for (const key in this.state) {\r\n            if (newState[key] !== this.state[key]) {\r\n                this.state[key] = newState[key];\r\n                for (const listenerKey in this.listener) {\r\n                    if (this.listener[listenerKey].fields.includes(key)) {\r\n                        ids.push(listenerKey);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        // ids = [...new Set(ids)];\r\n        ids.forEach(function (listenerKey) {\r\n            this.listener[listenerKey].callback(this.state);\r\n        }, this);\r\n    }\r\n}\r\n\r\nconst oriStore = new Store()\r\nexport default oriStore\r\nexport let state = oriStore._state","const attributeExceptions = [\r\n    `role`,\r\n];\r\n\r\nfunction appendText(el, text) {\r\n    const textNode = document.createTextNode(text);\r\n    el.appendChild(textNode);\r\n}\r\n\r\nfunction appendArray(el, children) {\r\n    children.forEach((child) => {\r\n        if (Array.isArray(child)) {\r\n            appendArray(el, child);\r\n        } else if (child instanceof window.Element) {\r\n            el.appendChild(child);\r\n        } else if (typeof child === `string`) {\r\n            appendText(el, child);\r\n        }\r\n    });\r\n}\r\n\r\nfunction setStyles(el, styles) {\r\n    if (!styles) {\r\n        el.removeAttribute(`styles`);\r\n        return;\r\n    }\r\n\r\n    Object.keys(styles).forEach((styleName) => {\r\n        if (styleName in el.style) {\r\n            el.style[styleName] = styles[styleName]; // eslint-disable-line no-param-reassign\r\n        } else {\r\n            console.warn(`${styleName} is not a valid style for a <${el.tagName.toLowerCase()}>`);\r\n        }\r\n    });\r\n}\r\n\r\nfunction makeElement(type, textOrPropsOrChild, ...otherChildren) {\r\n    const el = document.createElement(type);\r\n    if (Array.isArray(textOrPropsOrChild)) {\r\n        appendArray(el, textOrPropsOrChild);\r\n    } else if (textOrPropsOrChild instanceof window.Element) {\r\n        el.appendChild(textOrPropsOrChild);\r\n    } else if (typeof textOrPropsOrChild === `string`) {\r\n        appendText(el, textOrPropsOrChild);\r\n    } else if (typeof textOrPropsOrChild === `object`) {\r\n        Object.keys(textOrPropsOrChild).forEach((propName) => {\r\n            if (propName in el || attributeExceptions.includes(propName)) {\r\n                const value = textOrPropsOrChild[propName];\r\n\r\n                if (propName === `style`) {\r\n                    setStyles(el, value);\r\n                } else if (value) {\r\n                    el[propName] = value;\r\n                }\r\n            } else {\r\n                console.warn(`${propName} is not a valid property of a <${type}>`);\r\n            }\r\n        });\r\n    }\r\n\r\n    if (otherChildren) appendArray(el, otherChildren);\r\n\r\n    return el;\r\n}\r\n\r\nexport const el = (elementName, ...args) => makeElement(elementName, ...args);\r\n// export const button = (...args) => makeElement(`button`, ...args);\r\n// export const div = (...args) => makeElement(`div`, ...args);\r\n// export const h1 = (...args) => makeElement(`h1`, ...args);\r\n// export const header = (...args) => makeElement(`header`, ...args);\r\n// export const p = (...args) => makeElement(`p`, ...args);\r\n// export const span = (...args) => makeElement(`span`, ...args);","import store, { state } from '../src/store'\r\nimport { el } from '../index'\r\n\r\nstore.init({ title: '很高兴遇见你'})\r\nconsole.log(store.state)\r\nconsole.log(state)\r\n// const store = new Store({ title: '很高兴遇见你', content: '测试一下', button: '按钮没按' });\r\n// let state = store.state;\r\nclass BaseGoodByeHx {\r\n    constructor(id, fields) {\r\n        this.id = id\r\n        this.fields = fields\r\n        this.render = this.render.bind(this)\r\n        this.el = this.render();\r\n        store.listen(this.id, this.fields, (newData) => {\r\n            this.el = this.update(this.el, newData);\r\n        });\r\n    }\r\n    id: string\r\n    fields: string[] | undefined[]\r\n    el: Element | any\r\n    render(newData?) { return el('div') }\r\n    update(prevEl, newData) {\r\n        const nextEl = this.render(newData);\r\n        if (nextEl.isEqualNode(prevEl)) {\r\n            console.warn(`render() was called but there was no change in the rendered output`, this.el);\r\n        } else {\r\n            prevEl.parentElement.replaceChild(nextEl, prevEl);\r\n        }\r\n        return nextEl;\r\n    };\r\n}\r\n\r\nclass App extends BaseGoodByeHx {\r\n    constructor(props) {\r\n        super('app', ['content', 'title']);\r\n    }\r\n    render() {\r\n        return el('div',\r\n            { style: { color: 'red' } },\r\n            el('h1', state.title),\r\n            el('h1', {\r\n                onclick: () => {\r\n                    store.dispatch(Object.assign({}, state, { button: '按钮按了' }))\r\n                }\r\n            }, state.content),\r\n            (new Button({})).el\r\n        )\r\n    }\r\n}\r\nclass Button extends BaseGoodByeHx {\r\n    constructor(props) {\r\n        super('button', ['button']);\r\n    }\r\n    clickHandle() {\r\n        console.log(12)\r\n        store.dispatch(Object.assign({}, state, { title: '按钮没按' + Math.random().toString() }))\r\n    }\r\n    render() {\r\n        return el('button', {\r\n            onclick: this.clickHandle\r\n        }, state.button)\r\n    }\r\n}\r\ndocument.getElementById('app').innerHTML = '';\r\ndocument.getElementById('app').appendChild((new App({})).el);"]}